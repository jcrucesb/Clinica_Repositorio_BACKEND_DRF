<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Confirmación de Reserva</title>
    <style>
      .section-title {
        background-color: #c6a2e7;
        padding: 10px;
        font-weight: bold;
        border-top: 2px solid #000;
      }
      .data-row {
        display: flex;
        border-bottom: 1px solid #ddd;
      }
      .data-label {
        flex: 1;
        font-weight: bold;
        padding: 8px;
        background-color: #e8e3f0;
      }
      .data-value {
        flex: 2;
        padding: 8px;
      }
      .warning {
        background-color: #ffcccc;
        padding: 15px;
        text-align: center;
        margin: 20px 0;
        border: 1px solid red;
      }
      .container {
        max-width: 800px;
        margin: 0 auto;
        background-color: #f8f9fa;
        padding: 20px;
      }
      .payment-section {
        background-color: #fff3cd;
        padding: 15px;
        margin-top: 20px;
        border-left: 4px solid #ffc107;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1 style="text-align: center; color: #383737;">Confirmación de Reserva Médica</h1>
      
      <div class="warning">
        <strong>Recordatorio importante:</strong> Debe presentarse 15 minutos antes de la hora agendada y tener pagada la reserva.
      </div>

      <!-- Datos del paciente -->
      <div class="section-title">Datos del Paciente</div>
      <div class="data-row">
        <div class="data-label">Nombre:</div>
        <div class="data-value">{{nombre_paciente}}</div>
      </div>
      <div class="data-row">
        <div class="data-label">Email:</div>
        <div class="data-value">{{email_paciente}}</div>
      </div>
      <div class="data-row">
        <div class="data-label">RUT:</div>
        <div class="data-value">{{rut_paciente}}</div>
      </div>
      <div class="data-row">
        <div class="data-label">Teléfono:</div>
        <div class="data-value">{{fono_paciente}}</div>
      </div>

      <!-- Datos de la clínica -->
      <div class="section-title">Datos de la Clínica</div>
      <div class="data-row">
        <div class="data-label">Nombre:</div>
        <div class="data-value">{{nombre_clinica}}</div>
      </div>
      <div class="data-row">
        <div class="data-label">Dirección:</div>
        <div class="data-value">{{direccion_clinica}}, {{comuna_clinica}}</div>
      </div>

      <!-- Detalles de la reserva -->
      <div class="section-title">Detalles de la Reserva</div>
      <div class="data-row">
        <div class="data-label">Fecha:</div>
        <div class="data-value">{{fecha_reserva}}</div>
      </div>
      <div class="data-row">
        <div class="data-label">Horario:</div>
        <div class="data-value">{{hora_inicio}} - {{hora_termino}}</div>
      </div>
      <div class="data-row">
        <div class="data-label">Especialista:</div>
        <div class="data-value">{{nombre_doctor}} ({{especialidad}})</div>
      </div>
      <div class="data-row">
        <div class="data-label">Especialidad:</div>
        <div class="data-value">{{especialidad}}</div>
      </div>
      <div class="data-row">
        <div class="data-label">Valor Especialidad:</div>
        <div class="data-value">${{valor_especialidad}}</div>
      </div>
      <div class="data-row">
        <div class="data-label">Código de Reserva:</div>
        <div class="data-value">{{reserva_uuid}}</div>
      </div>

      <!-- Información de pago -->
      <div class="payment-section">
        <div class="section-title">Información de Pago</div>
        <div class="data-row">
          <div class="data-label">Cita Pagada:</div>
          <div class="data-value">{{reserva_pagada}}</div>
        </div>
        <div class="data-row">
          <div class="data-label">Método de Pago:</div>
          <div class="data-value">{{tipo_pago}}</div>
        </div>
        <div class="data-row">
          <div class="data-label">Valor Base:</div>
          <div class="data-value">${{valor_base}}</div>
        </div>
        <div class="data-row">
          <div class="data-label">Descuento:</div>
          <div class="data-value">- {{descuento}}%</div>
        </div>
        
        {% if tipo_pago == 'Crédito' %}
        <div class="data-row">
          <div class="data-label">Cuotas:</div>
          <div class="data-value">{{cant_cuotas}}</div>
        </div>
        <div class="data-row">
          <div class="data-label">Valor Cuota:</div>
          <div class="data-value">${{monto_cuotas}}</div>
        </div>
        <!--  -->
        {% endif %}
        
        <div class="data-row">
          <div class="data-label">TOTAL A PAGAR:</div>
          <div class="data-value" style="font-weight: bold; color: #d32f2f;">${{total_pagar}}</div>
        </div>
      </div>
      
      <div style="margin-top: 30px; text-align: center; font-size: 0.9em; color: #666;">
        Por favor presente este código en la clínica: <strong>{{reserva_uuid}}</strong>
      </div>
    </div>
  </body>
</html>